import os
from dotenv import load_dotenv
from meraki import DashboardAPI

# Load secrets
load_dotenv()
API_KEY = os.getenv("MERAKI_API_KEY")
ORG_ID = os.getenv("your_org_id_here")

dashboard = DashboardAPI(API_KEY, suppress_logging=True)

print("\nðŸ“‹ Networks in your organization:\n")
networks = dashboard.organizations.getOrganizationNetworks(ORG_ID)

for net in networks:
    print(f"ðŸ“¡ Name: {net['name']}")
    print(f"ðŸ†” ID: {net['id']}")
    print(f"ðŸ“¦ Product Types: {net.get('productTypes', [])}")
    print("-" * 40)
